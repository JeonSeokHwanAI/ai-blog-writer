# 네이버 블로그 스크래퍼 실행

인자: $ARGUMENTS

## 인자 파싱

- `<blog_id>` → 블로그 ID만 입력 시 **1개** 포스트 수집
- `<blog_id> <count>` → 지정한 수량만큼 수집
- `<별명/블로그명>` → `config/blogs.json`에서 자동 매칭 후 검색
- `<blog_id> --댓글` 또는 `<blog_id> 댓글` → 스크래핑 후 **댓글만 바로 생성**

**예시:**
- `/search 980207` → 980207 블로그의 최신 1개 포스트
- `/search zeroenter 5` → zeroenter 블로그의 최신 5개 포스트
- `/search 리리` → ari_school(리리가 도와줌) 자동 매칭
- `/search 혜이니 3` → 980207(N잡하는 혜이니) 3개 포스트
- `/search 리리 --댓글` → 스크래핑 + 댓글만 바로 출력

## 실행 방법

1. 인자를 파싱하여 블로그 ID와 수량 분리
2. **블로그 ID 자동 매칭:**
   - 입력값이 `config/blogs.json`의 ID와 정확히 일치 → 그대로 사용
   - 일치하지 않으면 `config/blogs.json`에서 검색:
     - `name` (블로그명)에서 키워드 포함 여부
     - `nickname` (별명)에서 키워드 포함 여부
     - `description` (설명)에서 키워드 포함 여부
   - 매칭된 블로그 ID로 변환
3. 블로그 ID가 숫자만으로 구성된 경우 URL 형식으로 변환: `https://blog.naver.com/{blog_id}`
4. 다음 bash 명령 실행:

```bash
cd "e:/Project/vibecode/Naver Scraping" && (echo "https://blog.naver.com/{blog_id}" && echo {count}) | python -X utf8 main.py
```

4. 스크래핑 완료 후 `output/{blog_id}/` 폴더의 결과 확인
5. 오늘 발행된 글이 있으면 강조하여 표시
6. **검색 기록 저장**: `config/.last_searches.json`에 검색한 블로그 ID와 시간 기록

## 검색 기록 저장

스크래핑 완료 후 `config/.last_searches.json` 파일을 업데이트:

```json
{
  "searches": [
    {"id": "zeroenter", "timestamp": "2026-02-12T08:21:00"},
    {"id": "cpyoganara1004", "timestamp": "2026-02-12T08:31:00"}
  ]
}
```

- 최대 20개까지 저장
- 같은 ID가 있으면 시간만 업데이트 (중복 제거)
- 오래된 것은 자동 삭제

## 결과 출력

스크래핑 완료 후:
- 포스트 목록을 마크다운 표로 표시
- **각 포스트의 링크를 반드시 포함** (클릭 가능한 마크다운 링크)
- 오늘 발행된 글은 별도 섹션으로 강조
- 본문이 있으면 내용 요약 제공

**출력 형식:**
```
## {blog_id} 스크래핑 완료 (N개)

| # | 제목 | 발행일 | 링크 |
|---|------|--------|------|
| 00 | 제목1 | 2026-02-12 | [링크](https://blog.naver.com/...) |
| 01 | 제목2 | 2026-02-11 | [링크](https://blog.naver.com/...) |
```

## 결과 파일

- `{blog_id}_summary_*.json` - 요약 정보
- `{blog_id}_posts_*.json` - 전체 포스트 내용

## --댓글 옵션

인자에 `--댓글` 또는 `댓글`이 포함되면 스크래핑 완료 후 **추천 댓글만** 바로 출력합니다.

**실행 흐름:**
1. 일반 스크래핑 실행
2. 스크래핑 완료 후 본문 읽기
3. 추천 댓글 생성 (분석 8개 섹션 생략)
4. 댓글만 출력

**댓글 작성 가이드:**
- 글의 강점 1~2개 구체적으로 언급
- 공감 표현 (개인 경험 또는 감정)
- 후속 콘텐츠에 대한 기대감
- 자연스러운 어조 (과도한 칭찬 지양)
- 2~4문장 적정 길이

**출력 형식:**
```
## 스크래핑 완료 (간략)
- 블로그: {blog_id}
- 제목: [제목]

## 추천 댓글

---
[댓글 내용 - 인용 블록(>) 없이 평문으로 출력하여 복사하기 쉽게]
---

🔗 [글 링크](URL)
```

**중요:** 댓글 내용은 `>` 인용 블록 없이 평문으로 출력하여 바로 복사할 수 있게 합니다.
